@page "/admin/systempermission/list"
@using Frontend.Components.Base.Forms.PageWithCommandBar
@using Frontend.Components.Base.Tables
@using Shared.Models.Entities
@using Radzen

<PageTitle>SystemPermissions</PageTitle>

<PageWithCommandBar BackPath="/"
                    ShowNew
                    NewPath="/admin/systempermission/formulario"
                    >

    <RadzenCard>
        <EntityTable T="Shared.Models.Entities.SystemEntities.SystemPermissions"
                     @ref="entityTable"
                     @key="@GetGridKey()"
                     ApiEndpoint="/api/admin/systempermission/view-filtered"
                     ApiService="@SystemPermissionService"
                     ShowSearchBar="true"
                     ShowExcelExport="true"
                     ShowRefreshButton="true"
                     ShowAutoRefresh="true"
                     ShowColumnConfig="true"
                     ShowActions="true"
                     SearchPlaceholder="Buscar permisos..."
                     ExcelFileName="SystemPermissions"
                     BaseQuery="@currentView.QueryBuilder"
                     ColumnConfigs="@currentView.ColumnConfigs"
                     ForceOrderByIndex="true"
                     EnableSelectOptimization="true"
                     SelectOnlyVisibleColumns="true"
                     ViewConfigurations="@ViewConfigurationsTyped"
                     CurrentView="@currentView"
                     OnViewChanged="@OnViewChanged"
                     ViewDisplayNameProperty="DisplayName"
                     OnEdit="@HandleEdit"
                     OnDelete="@HandleDelete">
        </EntityTable>
    </RadzenCard>

</PageWithCommandBar>
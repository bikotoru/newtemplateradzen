@page "/catalogo/producto/list"
@using Frontend.Components.Base.Forms.PageWithCommandBar
@using Frontend.Components.Base.Tables
@using Shared.Models.Entities
@using Radzen

<PageTitle>Productos</PageTitle>

<PageWithCommandBar BackPath="/"
                    ShowNew
                    NewPath="/catalogo/producto/formulario"
                    >

    <RadzenCard>
        <EntityTable T="Producto" 
                     @ref="entityTable"
                     @key="@GetGridKey()"
                     ShowSearchBar="true"
                     ShowExcelExport="true"
                     ShowRefreshButton="true"
                     ShowAutoRefresh="true"
                     ShowColumnConfig="true"
                     ShowActions="true"
                     SearchPlaceholder="Buscar productos..."
                     BaseQuery="@currentView.QueryBuilder"
                     ColumnConfigs="@currentView.ColumnConfigs"
                     ForceOrderByIndex="true"
                     EnableSelectOptimization="true"
                     SelectOnlyVisibleColumns="true"
                     ViewConfigurations="@ViewConfigurationsTyped"
                     CurrentView="@currentView"
                     OnViewChanged="@OnViewChanged"
                     ViewDisplayNameProperty="DisplayName"
                     OnEdit="@HandleEdit"
                     OnDelete="@HandleDelete">
        </EntityTable>
    </RadzenCard>

</PageWithCommandBar>